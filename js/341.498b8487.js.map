{"version":3,"file":"js/341.498b8487.js","mappings":"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","sources":["webpack://vue-admin-demo/./src/views/js-view/canvas/index.vue?004d","webpack://vue-admin-demo/./src/views/js-view/canvas/components/DrawBoard.vue?1750","webpack://vue-admin-demo/./src/views/js-view/canvas/components/DrawCanvas.vue?5636","webpack://vue-admin-demo/src/views/js-view/canvas/components/DrawCanvas.vue","webpack://vue-admin-demo/./src/views/js-view/canvas/components/DrawCanvas.vue?0fba","webpack://vue-admin-demo/./src/views/js-view/canvas/components/DrawCanvas.vue","webpack://vue-admin-demo/src/views/js-view/canvas/components/DrawBoard.vue","webpack://vue-admin-demo/./src/views/js-view/canvas/components/DrawBoard.vue?9e57","webpack://vue-admin-demo/./src/views/js-view/canvas/components/DrawBoard.vue","webpack://vue-admin-demo/src/views/js-view/canvas/index.vue","webpack://vue-admin-demo/./src/views/js-view/canvas/index.vue?5d73","webpack://vue-admin-demo/./src/views/js-view/canvas/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('DrawBoard')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('DrawCanvas',{ref:\"DrawCanvas\",attrs:{\"penColor\":_vm.pen_color,\"penSize\":_vm.pen_size}}),_c('div',{staticClass:\"toolbox\"},[_c('button',{ref:\"decrease\",on:{\"click\":_vm.decrease_pen_size}},[_vm._v(\"减小\")]),_c('span',{ref:\"size\"},[_vm._v(\"10\")]),_c('button',{ref:\"increase\",on:{\"click\":_vm.increase_pen_size}},[_vm._v(\"增加\")]),_c('input',{ref:\"color\",attrs:{\"type\":\"color\"},on:{\"click\":function($event){return _vm.handle_change_color($event)}}}),_c('button',{ref:\"save\",on:{\"click\":_vm.handle_save}},[_vm._v(\"保存\")]),_c('button',{ref:\"clear\",on:{\"click\":_vm.handle_clear}},[_vm._v(\"清除\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"canvas\",attrs:{\"width\":\"800\",\"height\":\"600\"},on:{\"mousedown\":function($event){return _vm.handleDown($event)},\"mouseup\":function($event){return _vm.handleUp()},\"mousemove\":function($event){return _vm.handleMove($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <canvas\r\n    ref=\"canvas\"\r\n    width=\"800\"\r\n    height=\"600\"\r\n    @mousedown=\"handleDown($event)\"\r\n    @mouseup=\"handleUp()\"\r\n    @mousemove=\"handleMove($event)\"\r\n  ></canvas>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DrawCanvas\",\r\n  data() {\r\n    return {\r\n      ctx: null,\r\n      canvas: null,\r\n      x: undefined, //画笔坐标\r\n      y: undefined,\r\n      isPressed: false, //鼠标是否落下\r\n    };\r\n  },\r\n  mounted() {\r\n    this.canvas = this.$refs.canvas;\r\n    this.ctx = this.$refs.canvas.getContext(\"2d\");\r\n  },\r\n  props: {\r\n    penSize: {\r\n      type: Number,\r\n      default: 10,\r\n    },\r\n    penColor: {\r\n      type: String,\r\n      default: \"black\",\r\n    },\r\n  },\r\n  methods: {\r\n    //此处的offSetX/Y是鼠标相当于canvas元素左上角的位置\r\n    handleDown(e) {\r\n      this.x = e.offsetX;\r\n      this.y = e.offsetY;\r\n      this.isPressed = true;\r\n    },\r\n    // 鼠标松开，将画笔（x,y）坐标清空，ispress标志设置为false\r\n    handleUp() {\r\n      this.x = undefined;\r\n      this.y = undefined;\r\n      this.isPressed = false;\r\n    },\r\n    // 鼠标移动时，更新画笔位置\r\n    handleMove(e) {\r\n      if (this.isPressed) {\r\n        let x2 = e.offsetX;\r\n        let y2 = e.offsetY;\r\n        //此处添加即画圆又画线条是因为只画线条会出现断断续续的情况，绘制实心圆使线条更加饱满\r\n        this.drawCircle(x2, y2);\r\n        this.drawLine(this.x, x2, this.y, y2);\r\n        //绘制完线条之后，调整画笔当前位置为当前鼠标的坐标\r\n        (this.x = x2), (this.y = y2);\r\n      }\r\n    },\r\n    //定义绘制线条和实心圆的函数\r\n    drawCircle(x, y) {\r\n      this.ctx.beginPath();\r\n      this.ctx.arc(x, y, this.penSize, 0, Math.PI * 2);\r\n      this.ctx.fillStyle = this.penColor;\r\n      this.ctx.fill();\r\n    },\r\n    drawLine(x1, x2, y1, y2) {\r\n      this.ctx.beginPath();\r\n      this.ctx.moveTo(x1, y1);\r\n      this.ctx.lineTo(x2, y2);\r\n      this.ctx.strokeStyle = this.penColor;\r\n      this.ctx.lineWidth = this.penSize * 2;\r\n      this.ctx.stroke();\r\n    },\r\n    handleClear() {\r\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    },\r\n    handleSave() {\r\n      let imageDataUrl = this.canvas.toDataURL(); // 返回Base64编码的图像数据URL\r\n      this.downloadURI(imageDataUrl, \"output_image.png\"); // 输入自定义的文件名及格式（此处为PNG）\r\n    },\r\n    downloadURI(uri, name) {\r\n      var link = document.createElement(\"a\");\r\n      link.download = name;\r\n      link.href = uri;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\ncanvas {\r\n  border: 2px solid skyblue;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DrawCanvas.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DrawCanvas.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DrawCanvas.vue?vue&type=template&id=15fc451d&scoped=true\"\nimport script from \"./DrawCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./DrawCanvas.vue?vue&type=script&lang=js\"\nimport style0 from \"./DrawCanvas.vue?vue&type=style&index=0&id=15fc451d&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15fc451d\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <DrawCanvas :penColor=\"pen_color\" :penSize=\"pen_size\" ref=\"DrawCanvas\" />\r\n    <div class=\"toolbox\">\r\n      <button ref=\"decrease\" v-on:click=\"decrease_pen_size\">减小</button>\r\n      <span ref=\"size\">10</span>\r\n      <button ref=\"increase\" v-on:click=\"increase_pen_size\">增加</button>\r\n      <input\r\n        type=\"color\"\r\n        ref=\"color\"\r\n        v-on:click=\"handle_change_color($event)\"\r\n      />\r\n      <button ref=\"save\" v-on:click=\"handle_save\">保存</button>\r\n      <button ref=\"clear\" v-on:click=\"handle_clear\">清除</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DrawCanvas from \"./DrawCanvas.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      pen_size: 0,\r\n      pen_color: \"\",\r\n    };\r\n  },\r\n  components: {\r\n    DrawCanvas,\r\n  },\r\n  mounted() {\r\n    // console.log(this.$refs);\r\n    this.pen_color = this.$refs.color.value;\r\n    this.pen_size = +this.$refs.size.innerText;\r\n  },\r\n  watch: {\r\n    pen_size: function (newVal, oldVal) {\r\n      this.$refs.size.innerText = newVal;\r\n    },\r\n  },\r\n  methods: {\r\n    decrease_pen_size() {\r\n      this.pen_size -= 2;\r\n      if (this.pen_size < 5) {\r\n        this.pen_size = 5;\r\n      }\r\n    },\r\n    increase_pen_size() {\r\n      this.pen_size += 2;\r\n      if (this.pen_size > 25) {\r\n        this.pen_size = 25;\r\n      }\r\n    },\r\n    handle_change_color(e) {\r\n      console.log(e);\r\n      this.pen_color = e.target.value;\r\n    },\r\n    handle_clear() {\r\n      //   console.log(this.$refs);\r\n      this.$refs.DrawCanvas.handleClear();\r\n    },\r\n    handle_save() {\r\n      this.$refs.DrawCanvas.handleSave();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.toolbox {\r\n  background-color: skyblue;\r\n  display: flex;\r\n  width: 800px;\r\n  padding: 1rem;\r\n}\r\n.toolbox > * {\r\n  background-color: #fff;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 50px;\r\n  width: 50px;\r\n  margin: 5px;\r\n  padding: 5px;\r\n  cursor: pointer;\r\n}\r\n.toolbox > :last-child {\r\n  margin-left: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DrawBoard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DrawBoard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DrawBoard.vue?vue&type=template&id=0818239b&scoped=true\"\nimport script from \"./DrawBoard.vue?vue&type=script&lang=js\"\nexport * from \"./DrawBoard.vue?vue&type=script&lang=js\"\nimport style0 from \"./DrawBoard.vue?vue&type=style&index=0&id=0818239b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0818239b\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"app-container\">\r\n    <DrawBoard />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DrawBoard from \"./components/DrawBoard.vue\";\r\nexport default {\r\n  name: \"Canvas\",\r\n  components: {\r\n    DrawBoard,\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9eb69796\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","ref","attrs","pen_color","pen_size","on","decrease_pen_size","_v","increase_pen_size","$event","handle_change_color","handle_save","handle_clear","handleDown","handleUp","handleMove","name","data","ctx","canvas","x","undefined","y","isPressed","mounted","$refs","getContext","props","penSize","type","Number","default","penColor","String","methods","e","offsetX","offsetY","x2","y2","drawCircle","drawLine","beginPath","arc","Math","PI","fillStyle","fill","x1","y1","moveTo","lineTo","strokeStyle","lineWidth","stroke","handleClear","clearRect","width","height","handleSave","imageDataUrl","toDataURL","downloadURI","uri","link","document","createElement","download","href","body","appendChild","click","component","components","DrawCanvas","color","value","size","innerText","watch","newVal","oldVal","console","log","target","DrawBoard"],"sourceRoot":""}