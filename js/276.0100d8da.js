"use strict";(self["webpackChunkvue_admin_demo"]=self["webpackChunkvue_admin_demo"]||[]).push([[276],{3276:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-table",{ref:"tableSort",attrs:{border:!0,data:t.tableItemList,height:t.height},on:{"sort-change":t.tableSortChange}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"序号","show-overflow-tooltip":"",width:"95",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{label:"商品图",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("el-popover",{attrs:{placement:"top",trigger:"hover"}},[a("img",{staticStyle:{width:"150px",height:"100px"},attrs:{src:o.order_image,alt:""}}),a("el-image",{staticStyle:{width:"50px"},attrs:{slot:"reference","preview-src-list":t.imageList,src:o.order_image},slot:"reference"})],1)]}}])}),a("el-table-column",{attrs:{label:"交易时间",prop:"order_date",sortable:"","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"商品订单号",prop:"order_number","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"支付宝工单号",prop:"order_alipay","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"交易场景",prop:"order_scene",align:"center",sortable:"","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"交易状态",align:"center",sortable:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("el-tag",{attrs:{type:t._f("statusFilter")(o.order_status)}},[t._v(" "+t._s(t._f("statusTextFilter")(o.order_status))+" ")])]}}])}),a("el-table-column",{attrs:{label:"订单金额（元）",prop:"order_money",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleReFund(o)}}},[t._v("退款")])]}}])})],1),a("div",{staticClass:"pagination-area"},[a("el-pagination",{attrs:{"current-page":t.queryForm.pageNo,"page-size":t.queryForm.pageSize,layout:t.paginationSetting.layout,background:t.paginationSetting.background,total:t.paginationSetting.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)],1)},r=[],l=(a(4114),a(9412));function n(t){return(0,l.A)({url:"/order/getList",method:"post",data:t})}var s={name:"TableCom",data(){return{imageList:[],tableItemList:[],height:"400px",paginationSetting:{background:!0,layout:"total, sizes, prev, pager, next, jumper",total:0},queryForm:{pageNo:1,pageSize:20,title:""}}},filters:{statusFilter(t){const e=["success","danger","info"];return e[t]},statusTextFilter(t){const e=["支付成功","未支付","退款中"];return e[t]}},mounted(){this.fetchData()},methods:{tableSortChange(){const t=[];this.$refs.tableSort.tableData.forEach(((e,a)=>{t.push(e.img)})),this.imageList=t},handleReFund(t){console.log(t)},handleCurrentChange(t){this.queryForm.pageNo=t,this.fetchData()},handleSizeChange(t){this.queryForm.pageSize=t,this.fetchData()},async fetchData(){const{data:t,totalCount:e}=await n(this.queryForm);this.tableItemList=t;const a=[];t.forEach((t=>{a.push(t.img)})),this.imageList=a,this.paginationSetting.total=e}}},i=s,u=a(1656),c=(0,u.A)(i,o,r,!1,null,null,null),p=c.exports}}]);
//# sourceMappingURL=276.0100d8da.js.map