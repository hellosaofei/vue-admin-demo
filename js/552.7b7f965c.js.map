{"version":3,"file":"js/552.7b7f965c.js","mappings":"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","sources":["webpack://vue-admin-demo/./src/views/update-log/index.vue?bdee","webpack://vue-admin-demo/./src/views/update-log/components/TimeLine.vue?2a2d","webpack://vue-admin-demo/src/views/update-log/components/TimeLine.vue","webpack://vue-admin-demo/./src/views/update-log/components/TimeLine.vue?4780","webpack://vue-admin-demo/./src/views/update-log/components/TimeLine.vue","webpack://vue-admin-demo/src/views/update-log/index.vue","webpack://vue-admin-demo/./src/views/update-log/index.vue?648b","webpack://vue-admin-demo/./src/views/update-log/index.vue","webpack://vue-admin-demo/./src/api/timeline.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-tabs',{staticClass:\"tab-container\",attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"Client\"}},[(_vm.res1)?_c('TimeLine',{attrs:{\"timelineData\":_vm.res1}}):_vm._e()],1),_c('el-tab-pane',{attrs:{\"label\":\"Server\"}},[(_vm.res2)?_c('TimeLine',{attrs:{\"timelineData\":_vm.res2}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block\"},[_c('el-timeline',{attrs:{\"reverse\":true}},_vm._l((_vm.timeLineList),function(item,index){return _c('el-timeline-item',{key:item.id,attrs:{\"timestamp\":item.dateTime,\"placement\":\"top\"}},[_c('el-card',{staticClass:\"timeline-card\"},[_c('h4',[_vm._v(_vm._s(item.UpdateSummary))]),_c('div',{staticClass:\"tag-list\"},_vm._l((item.tagList),function(tag,index){return _c('el-tag',{key:index,staticStyle:{\"margin-right\":\"20px\"},attrs:{\"type\":_vm._f(\"statusFilter\")(tag.type)}},[_vm._v(\" \"+_vm._s(tag.content)+\" \")])}),1),_c('p',[_vm._v(_vm._s(item.UpdateContent))])])],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"block\">\r\n    <el-timeline :reverse=\"true\">\r\n      <el-timeline-item\r\n        v-for=\"(item, index) in timeLineList\"\r\n        :key=\"item.id\"\r\n        :timestamp=\"item.dateTime\"\r\n        placement=\"top\"\r\n      >\r\n        <el-card class=\"timeline-card\">\r\n          <h4>{{ item.UpdateSummary }}</h4>\r\n          <div class=\"tag-list\">\r\n            <el-tag\r\n              v-for=\"(tag, index) in item.tagList\"\r\n              :key=\"index\"\r\n              :type=\"tag.type | statusFilter\"\r\n              style=\"margin-right: 20px\"\r\n            >\r\n              {{ tag.content }}\r\n            </el-tag>\r\n          </div>\r\n          <p>{{ item.UpdateContent }}</p>\r\n        </el-card>\r\n      </el-timeline-item>\r\n    </el-timeline>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"TimeLine\",\r\n  data() {\r\n    return {\r\n      timeLineList: [],\r\n      total: null,\r\n    };\r\n  },\r\n  filters: {\r\n    statusFilter(status) {\r\n      const statusList = [\"danger\", \"info\", \"success\", \"warning\"];\r\n      return statusList[status];\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.resolveData();\r\n    });\r\n  },\r\n  props: {\r\n    timelineData: {\r\n      type: Object,\r\n      require: true,\r\n    },\r\n  },\r\n  methods: {\r\n    resolveData() {\r\n      const { data, totalCount } = this.timelineData;\r\n      this.timeLineList = data;\r\n      this.total = totalCount;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.timeline-card {\r\n  display: block !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TimeLine.vue?vue&type=template&id=72688172\"\nimport script from \"./TimeLine.vue?vue&type=script&lang=js\"\nexport * from \"./TimeLine.vue?vue&type=script&lang=js\"\nimport style0 from \"./TimeLine.vue?vue&type=style&index=0&id=72688172&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"app-container\">\r\n    <el-tabs type=\"border-card\" class=\"tab-container\">\r\n      <el-tab-pane label=\"Client\">\r\n        <TimeLine v-if=\"res1\" :timelineData=\"res1\" />\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"Server\">\r\n        <TimeLine v-if=\"res2\" :timelineData=\"res2\" />\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TimeLine from \"./components/TimeLine.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { getListV1, getListV2 } from \"@/api/timeline\";\r\nimport eventBus from \"@/plugins/eventBus\";\r\n\r\nexport default {\r\n  name: \"UpdataLog\",\r\n  computed: {\r\n    ...mapGetters([\"name\"]),\r\n  },\r\n  components: {\r\n    TimeLine,\r\n  },\r\n  data() {\r\n    return {\r\n      res1: null,\r\n      res2: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchData();\r\n    this.setupEventListener();\r\n  },\r\n  beforeDestroy() {\r\n    console.log(\"组件即将销毁，删除事件监听\");\r\n    this.removeEventListener();\r\n  },\r\n  methods: {\r\n    async fetchData() {\r\n      try {\r\n        const [res1, res2] = await Promise.all([getListV1(), getListV2()]);\r\n        // console.log(res1, res2);\r\n        this.$message({\r\n          message: `请求timeline数据成功${res1.length},${res2.length}`,\r\n          type: \"success\",\r\n        });\r\n        this.res1 = res1;\r\n        this.res2 = res2;\r\n      } catch (error) {\r\n        this.$message({\r\n          message: `请求数据出现错误${error}`,\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    setupEventListener() {\r\n      eventBus.$on(\"tokenRefreshed\", this.fetchData.bind(this));\r\n      // eventBus.on(\"tokenRefreshed\", () => {\r\n      //   console.log(\"监听到token刷新事件，。。。，重新获取数据！！！！\");\r\n      // });\r\n    },\r\n    removeEventListener() {\r\n      eventBus.$off(\"tokenRefreshed\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tab-container {\r\n  border-radius: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3045aa7e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3045aa7e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3045aa7e\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\";\r\n\r\nexport function getListV1(data) {\r\n  return request({\r\n    url: \"/timeline/v1/getList\",\r\n    method: \"get\",\r\n    data,\r\n  });\r\n}\r\n\r\nexport function getListV2(data) {\r\n  return request({\r\n    url: \"/timeline/v2/getList\",\r\n    method: \"get\",\r\n    data,\r\n  });\r\n}\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","res1","_e","res2","staticRenderFns","_l","item","index","key","id","dateTime","_v","_s","UpdateSummary","tag","staticStyle","_f","type","content","UpdateContent","name","data","timeLineList","total","filters","statusFilter","status","statusList","mounted","$nextTick","resolveData","props","timelineData","Object","require","methods","totalCount","component","computed","mapGetters","components","TimeLine","fetchData","setupEventListener","beforeDestroy","console","log","removeEventListener","Promise","all","getListV1","getListV2","$message","message","length","error","eventBus","$on","bind","$off","request","url","method"],"sourceRoot":""}