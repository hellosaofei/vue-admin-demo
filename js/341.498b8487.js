"use strict";(self["webpackChunkvue_admin_demo"]=self["webpackChunkvue_admin_demo"]||[]).push([[341],{2341:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("DrawBoard")],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DrawCanvas",{ref:"DrawCanvas",attrs:{penColor:e.pen_color,penSize:e.pen_size}}),n("div",{staticClass:"toolbox"},[n("button",{ref:"decrease",on:{click:e.decrease_pen_size}},[e._v("减小")]),n("span",{ref:"size"},[e._v("10")]),n("button",{ref:"increase",on:{click:e.increase_pen_size}},[e._v("增加")]),n("input",{ref:"color",attrs:{type:"color"},on:{click:function(t){return e.handle_change_color(t)}}}),n("button",{ref:"save",on:{click:e.handle_save}},[e._v("保存")]),n("button",{ref:"clear",on:{click:e.handle_clear}},[e._v("清除")])])],1)},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{ref:"canvas",attrs:{width:"800",height:"600"},on:{mousedown:function(t){return e.handleDown(t)},mouseup:function(t){return e.handleUp()},mousemove:function(t){return e.handleMove(t)}}})},l=[],c={name:"DrawCanvas",data(){return{ctx:null,canvas:null,x:void 0,y:void 0,isPressed:!1}},mounted(){this.canvas=this.$refs.canvas,this.ctx=this.$refs.canvas.getContext("2d")},props:{penSize:{type:Number,default:10},penColor:{type:String,default:"black"}},methods:{handleDown(e){this.x=e.offsetX,this.y=e.offsetY,this.isPressed=!0},handleUp(){this.x=void 0,this.y=void 0,this.isPressed=!1},handleMove(e){if(this.isPressed){let t=e.offsetX,n=e.offsetY;this.drawCircle(t,n),this.drawLine(this.x,t,this.y,n),this.x=t,this.y=n}},drawCircle(e,t){this.ctx.beginPath(),this.ctx.arc(e,t,this.penSize,0,2*Math.PI),this.ctx.fillStyle=this.penColor,this.ctx.fill()},drawLine(e,t,n,s){this.ctx.beginPath(),this.ctx.moveTo(e,n),this.ctx.lineTo(t,s),this.ctx.strokeStyle=this.penColor,this.ctx.lineWidth=2*this.penSize,this.ctx.stroke()},handleClear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},handleSave(){let e=this.canvas.toDataURL();this.downloadURI(e,"output_image.png")},downloadURI(e,t){var n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),n.click()}}},h=c,d=n(1656),u=(0,d.A)(h,o,l,!1,null,"15fc451d",null),p=u.exports,f={data(){return{pen_size:0,pen_color:""}},components:{DrawCanvas:p},mounted(){this.pen_color=this.$refs.color.value,this.pen_size=+this.$refs.size.innerText},watch:{pen_size:function(e,t){this.$refs.size.innerText=e}},methods:{decrease_pen_size(){this.pen_size-=2,this.pen_size<5&&(this.pen_size=5)},increase_pen_size(){this.pen_size+=2,this.pen_size>25&&(this.pen_size=25)},handle_change_color(e){console.log(e),this.pen_color=e.target.value},handle_clear(){this.$refs.DrawCanvas.handleClear()},handle_save(){this.$refs.DrawCanvas.handleSave()}}},v=f,_=(0,d.A)(v,a,r,!1,null,"0818239b",null),m=_.exports,x={name:"Canvas",components:{DrawBoard:m}},w=x,z=(0,d.A)(w,s,i,!1,null,null,null),C=z.exports}}]);
//# sourceMappingURL=341.498b8487.js.map